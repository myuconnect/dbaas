{% extends 'layout.html' %}

{% block head %}
{% endblock head %}
{% block title %}
    MMC-DbaaS (Administration Tasks)
{% endblock title%}
{% block content %}

    <!-- <label for="name" class="control-label float-left mx-md-n5">Host Details</label> -->
    <form action="{{ url_for('admin_tasks') }}" method="POST">
        {{ form.csrf_token }}
        {{ form.hidden_tag() }}
        <div class="form-row align-items-center row border border-left-1 border-primary border-3 col ms-3 me-3 mt-5">
            <div class="col col-xs-2 order-1 mb-2 pb-0">
                <legend></legend>
                <fieldset class="mt-3 p-1" style="width:80%">
                    <h6><span class="label label-default form-control-md" for ="dbTechnology" ><strong>DB Techonology</strong></span></h6>
                    {{ form.dbTechnology(class="form-control form-control-md", style="width:100%")}}
                    <h6><span class="label label-default form-control-md" for ="tenants" ><strong>Databases</strong></span></h6>
                    {{ form.tenant(class="form-control form-control-md", size=8, style="width:100%", id="tenant")}}
                    <strong>{{ form.selectAllTenants.label(class="mt-3 me-5") }}</strong> {{ form.selectAllTenants(class="checkbox me-3", id="multi-db-select") }}
                </fieldset>
            </div>
            <div class="col col-xs-2 order-2 mb-2 pb-0">
                <fieldset class="mt-3 p-1" style="width:100%">
                    <h6><span class="label label-default form-control-md" for ="task" ><strong>Database Task</strong></span></h6>
                    {{ form.task(class="form-control form-control-md", size=8, style="float:right;")}}
                    {{ form.submit(class ="btn btn-lg btn-primary btn-block mt-5", style="float: right;") }}
                </fieldset>
            </div>            
        </div>
        <script>
            $('#multi-db-select').click(function(event) {   
                var tenant = document.getElementById('tenant');
                if(this.checked) {
                    // Iterate each checkbox
                    for(var i=0, n=tenant.length;i<n;i++) {
                        tenant[i].selected = true;
                    }
                } else {
                    for(var i=0, n=tenant.length;i<n;i++) {
                        tenant[i].selected = false;
                    }
                }
            });

        </script>
    </form>
{% endblock content %}

{% block script %}
{% endblock script %}

